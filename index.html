<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üõçÔ∏è Loja Estilo Nuvem Shop</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #ffffff;
  --accent: #111111;
  --muted: #f5f5f5;
  --line: #e5e5e5;
  --radius: 10px;
}
body {
  font-family: 'Inter', sans-serif;
  background: var(--bg);
  margin: 0;
  color: #222;
}
header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid var(--line);
  position: sticky;
  top: 0;
  background: white;
  z-index: 10;
}
.brand {
  font-weight: 700;
  font-size: 1.2rem;
}
.cart-btn {
  background: var(--accent);
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: var(--radius);
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  position: relative;
}
.cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  background: red;
  color: white;
  border-radius: 50%;
  font-size: 12px;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
}
main {
  max-width: 1100px;
  margin: 24px auto;
  padding: 0 16px;
}
.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 20px;
}
.card {
  border: 1px solid var(--line);
  border-radius: var(--radius);
  overflow: hidden;
  background: white;
  display: flex;
  flex-direction: column;
  transition: transform 0.2s;
}
.card:hover {
  transform: translateY(-4px);
}
.thumb {
  height: 200px;
  overflow: hidden;
}
.thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.card-body {
  padding: 12px;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.price {
  font-weight: 700;
  margin: 8px 0;
}
.btn {
  padding: 10px;
  border: none;
  border-radius: var(--radius);
  cursor: pointer;
  font-weight: 600;
}
.btn.primary {
  background: var(--accent);
  color: white;
}
.btn.ghost {
  background: transparent;
  border: 1px solid var(--line);
}

/* Drawer carrinho */
.drawer {
  position: fixed;
  right: -400px;
  top: 0;
  width: 360px;
  height: 100vh;
  background: white;
  box-shadow: -6px 0 20px rgba(0,0,0,0.15);
  transition: right 0.3s;
  padding: 16px;
  display: flex;
  flex-direction: column;
  z-index: 100;
}
.drawer.open {
  right: 0;
}
.drawer h3 {
  margin-top: 0;
}
.cart-items {
  flex: 1;
  overflow-y: auto;
  margin-top: 16px;
}
.cart-item {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
  border-bottom: 1px solid var(--line);
  padding-bottom: 8px;
}
.cart-item img {
  width: 60px;
  height: 60px;
  border-radius: 8px;
  object-fit: cover;
}
.cart-item .meta {
  flex: 1;
}
.cart-footer {
  border-top: 1px solid var(--line);
  padding-top: 12px;
}
.total-row {
  display: flex;
  justify-content: space-between;
  font-weight: 700;
  margin-bottom: 10px;
}
</style>
</head>
<body>

<header>
  <div class="brand">ManchinhaPx Arts</div>
  <button class="cart-btn" id="abrirCarrinho">üõí Carrinho <span id="cartCount" class="cart-count">0</span></button>
</header>

<main>
  <div class="grid" id="produtosGrid"></div>
</main>

<!-- Drawer Carrinho -->
<aside id="drawer" class="drawer">
  <h3>üõí Seu carrinho</h3>
  <div id="cartItems" class="cart-items"></div>
  <div class="cart-footer">
    <div class="total-row">
      <span>Total:</span>
      <span id="cartTotal">R$ 0,00</span>
    </div>
    <button id="btnFinalizar" class="btn primary" style="width:100%">Finalizar pelo WhatsApp</button>
  </div>
</aside>

<script>
const WHATSAPP_NUMBER = '5588993800944';
let cart = JSON.parse(localStorage.getItem('carrinho_loja')) || [];

const produtos = [
  {codigo: 1, nome: 'Camiseta Estampada', preco: 59.9, imagem: 'https://via.placeholder.com/400x400?text=Camiseta'},
  {codigo: 2, nome: 'Caneca Personalizada', preco: 39.9, imagem: 'https://via.placeholder.com/400x400?text=Caneca'},
  {codigo: 3, nome: 'Chaveiro Criativo', preco: 14.9, imagem: 'https://via.placeholder.com/400x400?text=Chaveiro'},
  {codigo: 4, nome: 'Quadro Decorativo', preco: 89.9, imagem: 'https://via.placeholder.com/400x400?text=Quadro'}
];

const grid = document.getElementById('produtosGrid');
const cartItems = document.getElementById('cartItems');
const cartCount = document.getElementById('cartCount');
const cartTotal = document.getElementById('cartTotal');
const drawer = document.getElementById('drawer');
const abrirCarrinho = document.getElementById('abrirCarrinho');
const btnFinalizar = document.getElementById('btnFinalizar');

function money(v){ return 'R$ ' + v.toFixed(2).replace('.', ','); }

function renderProdutos(){
  grid.innerHTML = '';
  produtos.forEach(p=>{
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      <div class="thumb"><img src="${p.imagem}" alt="${p.nome}"></div>
      <div class="card-body">
        <h3>${p.nome}</h3>
        <div class="price">${money(p.preco)}</div>
        <button class="btn primary" onclick="adicionarAoCarrinho(${p.codigo})">Adicionar ao Carrinho</button>
      </div>`;
    grid.appendChild(card);
  });
}

function adicionarAoCarrinho(codigo){
  const produto = produtos.find(p=>p.codigo===codigo);
  const existente = cart.find(i=>i.codigo===codigo);
  if(existente) existente.qtd++;
  else cart.push({...produto, qtd:1});
  salvarCarrinho();
  renderCarrinho();
}

function removerDoCarrinho(codigo){
  cart = cart.filter(i=>i.codigo!==codigo);
  salvarCarrinho();
  renderCarrinho();
}

function salvarCarrinho(){
  localStorage.setItem('carrinho_loja', JSON.stringify(cart));
}

function renderCarrinho(){
  cartItems.innerHTML = '';
  if(cart.length===0){
    cartItems.innerHTML = '<p style="color:#777">Seu carrinho est√° vazio.</p>';
  }
  let total = 0;
  cart.forEach(item=>{
    total += item.preco * item.qtd;
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <img src="${item.imagem}">
      <div class="meta">
        <strong>${item.nome}</strong><br>
        ${money(item.preco)} x ${item.qtd}
      </div>
      <div>
        <button class="btn ghost" onclick="mudarQtd(${item.codigo},1)">+</button>
        <button class="btn ghost" onclick="mudarQtd(${item.codigo},-1)">-</button>
      </div>
    `;
    cartItems.appendChild(div);
  });
  cartCount.textContent = cart.reduce((acc, i)=> acc + i.qtd, 0);
  cartTotal.textContent = money(total);
}

function mudarQtd(codigo, delta){
  const item = cart.find(i=>i.codigo===codigo);
  if(!item) return;
  item.qtd += delta;
  if(item.qtd<=0) removerDoCarrinho(codigo);
  else salvarCarrinho();
  renderCarrinho();
}

abrirCarrinho.addEventListener('click', ()=>{
  drawer.classList.toggle('open');
});

btnFinalizar.addEventListener('click', ()=>{
  if(cart.length===0){ alert('Seu carrinho est√° vazio'); return; }
  let msg = "Ol√°! Gostaria de fazer um pedido:\n\n";
  cart.forEach(i=>{
    msg += `‚Ä¢ ${i.nome} x${i.qtd} (${money(i.preco)})\n`;
  });
  msg += `\nTotal: ${cartTotal.textContent}`;
  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
  window.open(url, '_blank');
});

renderProdutos();
renderCarrinho();
</script>

</body>
</html>
